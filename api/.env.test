# Test environment configuration
DATABASE_URL="postgresql://postgres:postgres@localhost:5433/process_todo_test?schema=public"
JWT_SECRET="test-secret-key-for-testing"
NODE_ENV="test"

# Disable real WebSocket in tests
ENABLE_WEBSOCKET=false

# Redis for testing (optional)
REDIS_HOST="localhost"
REDIS_PORT="6379"JWT_SECRET=test-secret

# JWT
JWT_SECRET=your-secret-key-here-change-in-production
JWT_EXPIRES_IN=7d

# Storage
STORAGE_TYPE=minio
MINIO_ENDPOINT=localhost
MINIO_PORT=9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_USE_SSL=false
MINIO_BUCKET=process-todo

# Mail (optional)
MAIL_HOST=smtp.example.com
MAIL_PORT=587
MAIL_USER=
MAIL_PASSWORD=
MAIL_FROM=noreply@example.com

# Timezone
TZ=Asia/Tokyo

# AI Agent Settings
# Switch between 'mock' (default) and 'openai' for real OpenAI calls
AI_AGENT_MODE=openai
# OPENAI_API_KEY intentionally left blank for tests to avoid secret scanning; set via CI or local env
OPENAI_API_KEY=
OPENAI_MODEL=gpt-4-turbo-preview
OPENAI_TEMPERATURE=0.7
OPENAI_MAX_TOKENS=2000
OPENAI_TIMEOUT_MS=30000

# OpenAI per-user request cap used by OpenAIService.checkRateLimit
OPENAI_RATE_LIMIT_PER_USER=100

# Session rate limits used by AIConfigService.getSessionRateLimit
SESSION_RATE_LIMIT_PER_MINUTE=20
SESSION_RATE_LIMIT_PER_HOUR=100
SESSION_RATE_LIMIT_PER_DAY=500

# Feature flags (AI features can be toggled via AI_FEATURE_* envs)
AI_FEATURE_AI_AGENT=true

# Session rate limits used by AIConfigService.getSessionRateLimit
SESSION_RATE_LIMIT_PER_MINUTE=20
SESSION_RATE_LIMIT_PER_HOUR=100
SESSION_RATE_LIMIT_PER_DAY=500

# Feature flags (AI features can be toggled via AI_FEATURE_* envs)
AI_FEATURE_AI_AGENT=true

# AI Rate Limiting
AI_RATE_LIMIT_REQUESTS_PER_MINUTE=20
AI_RATE_LIMIT_TOKENS_PER_MINUTE=40000
AI_MAX_CONCURRENT_SESSIONS=10

# AI Cache Settings
AI_CACHE_TTL_SECONDS=86400
AI_SESSION_TIMEOUT_MINUTES=60
AI_SESSION_MAX_DURATION_MINUTES=180

# Web Search Settings
WEB_SEARCH_API_KEY=your-search-api-key-here
WEB_SEARCH_ENGINE_ID=your-search-engine-id
WEB_SEARCH_MAX_RESULTS=10
WEB_SEARCH_CACHE_TTL_HOURS=24

# Background Job Settings
BULL_REDIS_HOST=localhost
BULL_REDIS_PORT=6379
BULL_JOB_DEFAULT_RETRIES=3
BULL_JOB_DEFAULT_BACKOFF_DELAY=5000
BULL_JOB_REMOVE_ON_COMPLETE=100
BULL_JOB_REMOVE_ON_FAIL=50

# Monitoring & Logging
AI_ENABLE_USAGE_TRACKING=true
AI_LOG_LEVEL=info
AI_ENABLE_DEBUG_MODE=false