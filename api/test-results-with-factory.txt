PASS src/interfaces/controllers/step/step.controller.integration.spec.ts (65.344 s)
FAIL src/interfaces/controllers/kanban/kanban.controller.integration.spec.ts (10.687 s)
  ● KanbanController Integration Tests - Kanban Operations › Kanban drag-and-drop workflow › should handle blocked status correctly

    expected 200 "OK", got 400 "Bad Request"

      276 |         .put(`/api/steps/${stepId}/status`)
      277 |         .send({ status: 'blocked' })
    > 278 |         .expect(200);
          |          ^
      279 |
      280 |       // Get kanban board
      281 |       const response = await request(app.getHttpServer())

      at Object.<anonymous> (interfaces/controllers/kanban/kanban.controller.integration.spec.ts:278:10)
      ----
      at Test._assertStatus (../node_modules/supertest/lib/test.js:309:14)
      at ../node_modules/supertest/lib/test.js:365:13
      at Test._assertFunction (../node_modules/supertest/lib/test.js:342:13)
      at Test.assert (../node_modules/supertest/lib/test.js:195:23)
      at localAssert (../node_modules/supertest/lib/test.js:138:14)
      at Server.<anonymous> (../node_modules/supertest/lib/test.js:152:11)

FAIL src/interfaces/controllers/comment/comment.controller.integration.spec.ts (11.036 s)
  ● CommentController Integration Tests - Comment Flow › PUT /comments/:id › should update a comment

    expected 200 "OK", got 404 "Not Found"

      222 |         .put(`/api/comments/${updateCommentId}`)
      223 |         .send(updateData)
    > 224 |         .expect(200);
          |          ^
      225 |
      226 |       expect(response.body).toHaveProperty('id', updateCommentId);
      227 |       expect(response.body).toHaveProperty('content', `${testPrefix}COMMENT_UPDATE_MODIFIED`);

      at Object.<anonymous> (interfaces/controllers/comment/comment.controller.integration.spec.ts:224:10)
      ----
      at Test._assertStatus (../node_modules/supertest/lib/test.js:309:14)
      at ../node_modules/supertest/lib/test.js:365:13
      at Test._assertFunction (../node_modules/supertest/lib/test.js:342:13)
      at Test.assert (../node_modules/supertest/lib/test.js:195:23)
      at localAssert (../node_modules/supertest/lib/test.js:138:14)
      at Server.<anonymous> (../node_modules/supertest/lib/test.js:152:11)

  ● CommentController Integration Tests - Comment Flow › DELETE /comments/:id › should delete a comment

    expected 200 "OK", got 404 "Not Found"

      257 |       await request(app.getHttpServer())
      258 |         .delete(`/api/comments/${deleteCommentId}`)
    > 259 |         .expect(200);
          |          ^
      260 |
      261 |       // Verify deleted from database
      262 |       const deletedComment = await prisma.comment.findUnique({

      at Object.<anonymous> (interfaces/controllers/comment/comment.controller.integration.spec.ts:259:10)
      ----
      at Test._assertStatus (../node_modules/supertest/lib/test.js:309:14)
      at ../node_modules/supertest/lib/test.js:365:13
      at Test._assertFunction (../node_modules/supertest/lib/test.js:342:13)
      at Test.assert (../node_modules/supertest/lib/test.js:195:23)
      at localAssert (../node_modules/supertest/lib/test.js:138:14)
      at Server.<anonymous> (../node_modules/supertest/lib/test.js:152:11)

  ● CommentController Integration Tests - Comment Flow › Comment workflow integration › should handle complete comment workflow with replies

    expect(received).toBeDefined()

    Received: undefined

      315 |
      316 |       expect(parent).toBeDefined();
    > 317 |       expect(reply).toBeDefined();
          |                     ^
      318 |
      319 |       // 4. Update the reply
      320 |       await request(app.getHttpServer())

      at Object.<anonymous> (interfaces/controllers/comment/comment.controller.integration.spec.ts:317:21)

Test Suites: 2 failed, 1 passed, 3 total
Tests:       4 failed, 24 passed, 28 total
Snapshots:   0 total
Time:        89.013 s
Ran all test suites.
