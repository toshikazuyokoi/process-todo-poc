# 01 ユースケース定義（完全版 v4）

**前提共通**：DBはUTC、APIはISO8601(Z)、UIはユーザーTZ（既定: Asia/Tokyo）。DBはsnake_case、API/TSはcamelCase。

## UC-01 営業案件：プロセス展開と実行
**アクター**：営業(member), 営業Mgr(admin)  
**基本フロー**：案件作成→テンプレ展開→逆算期限→担当割当→成果物添付→通知→遅延時再計算（プレビュー→適用）→完了  
**代替/例外**：ゴール変更、公共調達テンプレ選択、必須成果物未添付での完了禁止  
**DoD**：全必須成果物添付かつ全ステップ`done`、メトリクス反映  
**KPI**：期限遵守率、リードタイム、遅延頻出ステップ

## UC-02 採用プロセス：候補者単位の進行
**基本**：入社希望日をゴールに逆算。並列工程（端末手配/面接）。遅延時はprev基準を押し出し。  
**DoD**：採用/不採用でクローズ。履歴保全。

## UC-03 オンボーディング：部門横断
**基本**：入社日→逆算。PC/アカウント並列、オリエンは依存有。日程変更時は差分表示。  
**DoD**：初日稼働に必要な成果物完了。

## 共通ルール
- `locked=true` は再計算の影響を受けない。`status=done` は再計算対象外/期日変更不可。
- 期限前/遅延通知はキュー化。Idempotency Keyで重複抑止。
- 監査ログは**変更コマンドごと**にDIFF保存。