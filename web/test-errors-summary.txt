FAIL app/components/ui/__tests__/toast.test.tsx (16.207 s)
  ‚óè Console

    console.error
      Warning: An update to ToastItem inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at toast (/mnt/c/work/git2/process-todo/web/app/components/ui/toast.tsx:91:9)
          at div
          at toasts (/mnt/c/work/git2/process-todo/web/app/components/ui/toast.tsx:78:9)
          at children (/mnt/c/work/git2/process-todo/web/app/components/ui/toast.tsx:38:74)

      94 |   useEffect(() => {
      95 |     // „Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥Áî®
--
FAIL app/components/kanban/kanban-drag-drop.test.tsx (16.497 s)
  ‚óè DraggableKanbanBoard Drag & Drop ‚Ä∫ Column Operations with Drag & Drop ‚Ä∫ should maintain drag functionality after adding a column

    TestingLibraryElementError: Found multiple elements with the text: Task 1

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<h4[39m
      [33mclass[39m=[32m"text-sm font-semibold text-gray-800 flex-1 pr-2"[39m
    [36m>[39m
      [0mTask 1[0m
    [36m</h4>[39m

    Ignored nodes: comments, script, style
    [36m<h4[39m
      [33mclass[39m=[32m"text-sm font-semibold text-gray-800 flex-1 pr-2"[39m
    [36m>[39m
      [0mTask 1[0m
    [36m</h4>[39m

--
FAIL app/components/kanban/kanban-board.test.tsx (16.973 s)
  ‚óè KanbanBoard ‚Ä∫ Column Rendering ‚Ä∫ should display due dates when available

    TestingLibraryElementError: Unable to find an element by: [data-testid="due-date-1"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"h-full flex flex-col"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex justify-between items-center mb-4 px-4"[39m
          [36m>[39m
            [36m<h2[39m
              [33mclass[39m=[32m"text-xl font-semibold"[39m
            [36m>[39m
              [0mKanban Board[0m
            [36m</h2>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Toggle column settings"[39m
--
FAIL app/services/kpi-calculator.test.ts (19.063 s)
  ‚óè KPICalculator ‚Ä∫ KPI Calculation Logic Unit Tests ‚Ä∫ calculateOnTimeCompletionRate ‚Ä∫ should calculate on-time completion rate correctly

    expect(received).toBe(expected) // Object.is equality

    Expected: 100
    Received: 0

       98 |       it('should calculate on-time completion rate correctly', () => {
       99 |         const rate = calculator.calculateOnTimeCompletionRate(mockCases);
    > 100 |         expect(rate).toBe(100); // All completed cases are on time
          |                      ^
      101 |       });
      102 |
      103 |       it('should return 100 when no cases are completed', () => {

      at Object.toBe (app/services/kpi-calculator.test.ts:100:22)

  ‚óè KPICalculator ‚Ä∫ KPI Calculation Logic Unit Tests ‚Ä∫ countOverdueTasks ‚Ä∫ should count overdue tasks correctly

    expect(received).toBe(expected) // Object.is equality
--
FAIL app/hooks/use-realtime-updates.test.ts
  ‚óè Test suite failed to run


      [31mx[0m Expected '>', got 'client'
        ,-[[36;1;4m/mnt/c/work/git2/process-todo/web/app/hooks/use-realtime-updates.test.ts[0m:58:1]
     [2m58[0m |   });
     [2m59[0m | 
     [2m60[0m |   const wrapper = ({ children }: { children: React.ReactNode }) => (
     [2m61[0m |     <QueryClientProvider client={queryClient}>{children}</QueryClientProvider>
        : [31;1m                         ^^^^^^[0m
     [2m62[0m |   );
     [2m63[0m | 
     [2m64[0m |   describe('Room management', () => {
        `----


    Caused by:
        Syntax Error

      at Object.transformSync (node_modules/next/src/build/swc/index.ts:1433:25)
--
FAIL app/contexts/auth-context.test.tsx
  ‚óè Test suite failed to run

    TypeError: Cannot read properties of undefined (reading 'interceptors')

      12 |
      13 | // Request interceptor for auth
    > 14 | apiClient.interceptors.request.use(
         |           ^
      15 |   (config) => {
      16 |     // Add auth token if exists
      17 |     const token = Cookies.get('accessToken')

      at Object.interceptors (app/lib/api-client.ts:14:11)
      at Object.<anonymous> (app/contexts/auth-context.tsx:25:20)
      at Object.<anonymous> (app/contexts/auth-context.test.tsx:14:22)

PASS app/components/ui/button.test.tsx (10.213 s)
PASS app/components/templates/__tests__/sortable-steps-list.test.tsx (21.489 s)
FAIL app/components/kanban/kanban-filter.test.tsx (21.277 s)
  ‚óè KanbanFilter ‚Ä∫ UI State Tests ‚Ä∫ should display active filters summary

    Found multiple elements with the text: User One

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"text-sm"[39m
    [36m>[39m
      [0mUser One[0m
    [36m</span>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"inline-flex items-center gap-1 px-2 py-1 text-xs bg-blue-100 text-blue-700 rounded-full"[39m
    [36m>[39m
      [36m<svg[39m
        [33maria-hidden[39m=[32m"true"[39m
        [33mclass[39m=[32m"lucide lucide-users w-3 h-3"[39m
--
FAIL app/components/templates/process-template-form.test.tsx
  ‚óè Test suite failed to run

    Cannot find module '../../../lib/api-client' from 'app/components/templates/process-template-form.test.tsx'

      21 |   }),
      22 | }))
    > 23 |
         | ^
      24 | describe('ProcessTemplateForm', () => {
      25 |   beforeEach(() => {
      26 |     jest.clearAllMocks()

      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)
      at Object.<anonymous> (app/components/templates/process-template-form.test.tsx:23:20)

FAIL app/contexts/websocket-context.test.tsx (23.544 s)
  ‚óè WebSocketContext ‚Ä∫ Error handling ‚Ä∫ should throw error when useWebSocket is used outside provider

    TestingLibraryElementError: Unable to find an element by: [data-testid="error-message"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div>[39m
          [0mShould not render[0m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      329 |       
      330 |       const { getByTestId } = render(<TestComponent />);
    > 331 |       expect(getByTestId('error-message')).toHaveTextContent('useWebSocket must be used within WebSocketProvider');
          |              ^
      332 |       
      333 |       spy.mockRestore();
      334 |     });
--
FAIL app/components/kanban/kanban-card.test.tsx (22.456 s)
  ‚óè KanbanCard ‚Ä∫ Card Information Display ‚Ä∫ should display due date when available

    TestingLibraryElementError: Unable to find an element with the text: 2024/01/15. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"
            p-3 rounded-lg shadow-sm border-l-4 cursor-move
